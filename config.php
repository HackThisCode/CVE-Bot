<?php

require_once __DIR__ . '/vendor/autoload.php';

// Load each of the plugins
$plugins = array_map(
    function ($name) {
        require_once __DIR__ . "/src/CVEBot/Plugin/$name.php";

        $className = "CVEBot\Plugin\\$name";
        return new $className();
    },
    array(
        'PongPlugin',
        'QuitPlugin'
    )
);

use Phergie\Irc\Connection;

return array(
    'connections' => array(
        new Connection(array(
            'serverHostname' => 'irc.hackthissite.org',
            'nickname' => 'CVE-Bot1',
            'username' => 'CVE-Bot',
            'realname' => 'CVE-Bot',
            'serverport' => 6697,
            'options' => array(
                'transport' => 'ssl'
            )
        ))
    ),
    'plugins' => $plugins
);
