<?php

namespace CVEBot\Plugin;

use Phergie\Irc\Event\EventInterface as Event;
use Phergie\Irc\Bot\React\EventQueueInterface as Queue;
use Phergie\Irc\Bot\React\PluginInterface;

class CtcpTimePlugin implements PluginInterface {
    public function getSubscribedEvents() {
        return array(
            'irc.received.ctcp.time' => 'onTime'
        );
    }

    public function onTime(Event $event, Queue $queue) {
        $source = $event->getSource();

        $time = gmdate('r');
        $queue->ircNotice($source, "TIME $time");
    }
}
